<!DOCTYPE html><html lang="zh-cn"><head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>React&JSX 书写规范 | Aotu.io - 前端代码规范</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="http://guide.aotu.io/docs/js/react.html"><link rel="alternative" hreflang="zh-cn" href="http://guide.aotu.io/docs/js/react.html"><link rel="alternative" hreflang="en" href="http://guide.aotu.io/en/docs/js/react.html"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/apple-touch-icon-57x57-d41d8cd98f.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/apple-touch-icon-114x114-d41d8cd98f.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/apple-touch-icon-72x72-d41d8cd98f.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/apple-touch-icon-144x144-d41d8cd98f.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/apple-touch-icon-60x60-d41d8cd98f.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/apple-touch-icon-120x120-d41d8cd98f.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/apple-touch-icon-76x76-d41d8cd98f.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/apple-touch-icon-152x152-d41d8cd98f.png"><link rel="icon" type="image/png" href="/img/favicon-196x196.png" sizes="196x196"><link rel="icon" type="image/png" href="/img/favicon-160x160.png" sizes="160x160"><link rel="icon" type="image/png" href="/assets/img/favicon-96x96-d41d8cd98f.png" sizes="96x96"><link rel="icon" type="image/png" href="/assets/img/favicon-16x16-d41d8cd98f.png" sizes="16x16"><link rel="icon" type="image/png" href="/assets/img/favicon-32x32-d41d8cd98f.png" sizes="32x32"><meta name="msapplication-TileColor" content="#2f83cd"><meta name="msapplication-TileImage" content="/assets/img/mstile-144x144-d41d8cd98f.png"><link rel="stylesheet" href="/assets/css/dist-d41d8cd98f.style.css"><link rel="alternate" href="/atom.xml" title="Aotu.io - 前端代码规范"><meta name="description" content="React&amp;amp;JSX 书写规范 本规范基本基于标准的 JavaScript 语法规范  基本规则 每个文件只包含一个 React 类组件 但是多个函数式组件可以放到一个文件中，eslint: react/no-multi-comp   一般使用 JSX 语法 除非是在非 JSX 文件中初始化应用，否则不要使用 React.createElement  命名规范 组件文件扩展名  如果使用 J"><meta property="og:type" content="website"><meta property="og:title" content="React&amp;JSX 书写规范"><meta property="og:url" content="http://guide.aotu.io/docs/js/react.html"><meta property="og:site_name" content="Aotu.io - 前端代码规范"><meta property="og:description" content="React&amp;amp;JSX 书写规范 本规范基本基于标准的 JavaScript 语法规范  基本规则 每个文件只包含一个 React 类组件 但是多个函数式组件可以放到一个文件中，eslint: react/no-multi-comp   一般使用 JSX 语法 除非是在非 JSX 文件中初始化应用，否则不要使用 React.createElement  命名规范 组件文件扩展名  如果使用 J"><meta property="og:locale" content="zh-cn"><meta property="og:updated_time" content="2020-09-07T08:38:47.709Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="React&amp;JSX 书写规范"><meta name="twitter:description" content="React&amp;amp;JSX 书写规范 本规范基本基于标准的 JavaScript 语法规范  基本规则 每个文件只包含一个 React 类组件 但是多个函数式组件可以放到一个文件中，eslint: react/no-multi-comp   一般使用 JSX 语法 除非是在非 JSX 文件中初始化应用，否则不要使用 React.createElement  命名规范 组件文件扩展名  如果使用 J"><meta name="twitter:site" content="o2circle"><meta property="fb:admins" content="100000247608790"><meta class="swiftype" name="title" data-type="string" content="React&JSX 书写规范"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?bb4b770d7fdf4e05245cd1327199d813";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>var App={root:"/"}</script><div class="root"><div id="container" class="container"><header id="header" class="wrapper header"><div id="header-inner" class="inner header-inner"><h1 id="logo-wrap" class="logo-wrap"><a href="/index.html" id="logo" class="logo">前端代码规范</a></h1><nav id="main-nav" class="main-nav"><ul><li class="main-nav-item"><a href="/docs/" class="main-nav-link">文档</a><li class="main-nav-item"><a href="/news/" class="main-nav-link">新闻</a><li class="main-nav-item"><a href="https://github.com/o2team/guide" class="main-nav-link"><i class="fa fa-github-alt"></i></a></ul></nav><div id="lang-select-wrap" class="lang-select-wrap"><label id="lang-select-label" class="lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></label><select id="lang-select" data-canonical="docs/js/react.html" class="lang-select"><option value="zh-cn" selected>简体中文<option value="en">English</select></div><div id="search-btn-wrap" class="main-nav-item search-btn-wrap"><a id="search-btn" class="main-nav-link st-search-launcher search-btn"><i class="fa fa-search"></i></a></div><a id="mobile-nav-toggle" class="mobile-nav-toggle"><span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span> </a><a id="mobile-search-btn" class="st-search-launcher mobile-search-btn"></a></div></header><div id="content-wrap" class="content-wrap"><div id="content" class="wrapper"><div id="content-inner" class="content-inner"><article class="article-container" itemscope itemtype="http://schema.org/Article"><div class="article-inner"><div class="article"><div class="inner"><header class="article-header"><h1 class="article-title" itemprop="name">React&JSX 书写规范</h1><a href="https://github.com/o2team/guide/edit/master/source/docs/js/react.md" class="article-edit-link" title="改进本文"><i class="fa fa-pencil"></i></a></header><div class="article-content" itemprop="articleBody" data-swiftype-index="true"><h2 id="React-amp-JSX-书写规范" class="article-heading"><a href="#React-amp-JSX-书写规范" class="headerlink" title="React&amp;JSX 书写规范"></a>React&amp;JSX 书写规范<a class="article-anchor" href="#React-amp-JSX-书写规范" aria-hidden="true"></a></h2><blockquote><p>本规范基本基于标准的 JavaScript 语法规范</blockquote><h3 id="基本规则" class="article-heading"><a href="#基本规则" class="headerlink" title="基本规则"></a>基本规则<a class="article-anchor" href="#基本规则" aria-hidden="true"></a></h3><ul><li>每个文件只包含一个 React 类组件<ul><li>但是多个函数式组件可以放到一个文件中，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-multi-comp.md#ignorestateless" target="_blank" rel="noopener">react/no-multi-comp</a></ul><li>一般使用 JSX 语法<li>除非是在非 JSX 文件中初始化应用，否则不要使用 <code>React.createElement</code></ul><h3 id="命名规范" class="article-heading"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范<a class="article-anchor" href="#命名规范" aria-hidden="true"></a></h3><ul><li>组件文件扩展名</ul><p>如果使用 JavaScript，则文件扩展名为 <code>.js</code>；如果使用 <code>TypeScript</code>，则文件扩展名为 <code>.tsx</code><ul><li>组件文件名</ul><p>如果是组件文件，则使用 PascalCase，如 <code>MyComponent.js</code><p>如果组件是一个目录，则组件主入口命名为 <code>index</code>，如 <code>index.js</code><ul><li>引用命名</ul><p>React 组件使用 PascalCase，组件实例使用 CamelCase，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-pascal-case.md" target="_blank" rel="noopener">react/jsx-pascal-case</a><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> reservationCard <span class="keyword">from</span> <span class="string">'./ReservationCard'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> ReservationCard <span class="keyword">from</span> <span class="string">'./ReservationCard'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> ReservationItem = <span class="xml"><span class="tag">&lt;<span class="name">ReservationCard</span> /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> reservationItem = <span class="xml"><span class="tag">&lt;<span class="name">ReservationCard</span> /&gt;</span></span></span><br></pre></table></figure><ul><li>组件命名</ul><p>使用文件名作为组件名字，例如, <code>ReservationCard.js</code> 应该包含名为 <code>ReservationCard</code> 的引用，然而对于文件夹中的根组件, 使用 <code>index.js</code> 作为文件名，使用文件夹的名字作为组件的名字<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./Footer/Footer'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./Footer/index'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./Footer'</span></span><br></pre></table></figure><ul><li>组件属性名</ul><p>React DOM 使用小驼峰式命名法来定义属性的名称，而不使用 HTML 属性名称的命名约定，例如<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;div onClick=&#123;<span class="keyword">this</span>.handler&#125; /&gt;</span><br></pre></table></figure><h3 id="Class-Component-VS-Functional-Component" class="article-heading"><a href="#Class-Component-VS-Functional-Component" class="headerlink" title="Class Component VS Functional Component"></a>Class Component VS Functional Component<a class="article-anchor" href="#Class-Component-VS-Functional-Component" aria-hidden="true"></a></h3><p>只允许使用 <code>Class Component</code> 和 <code>Functional Component</code> 两种形态来书写组件，建议尽量使用函数式组件配合 Hooks 来进行开发<h3 id="对齐" class="article-heading"><a href="#对齐" class="headerlink" title="对齐"></a>对齐<a class="article-anchor" href="#对齐" aria-hidden="true"></a></h3><p>遵循以下JSX语法的对齐风格，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-closing-bracket-location.md" target="_blank" rel="noopener">react/jsx-closing-bracket-location</a><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo superLongParam=<span class="string">'bar'</span></span><br><span class="line">     anotherSuperLongParam=<span class="string">'baz'</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  superLongParam=<span class="string">'bar'</span></span><br><span class="line">  anotherSuperLongParam=<span class="string">'baz'</span></span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// if props fit in one line then keep it on the same line</span></span><br><span class="line">&lt;Foo bar=<span class="string">'bar'</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// children get indented normally</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  superLongParam=<span class="string">'bar'</span></span><br><span class="line">  anotherSuperLongParam=<span class="string">'baz'</span></span><br><span class="line">&gt;</span><br><span class="line">  &lt;Quux /&gt;</span><br><span class="line">&lt;<span class="regexp">/Foo&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ bad</span></span><br><span class="line"><span class="regexp">&#123;showButton &amp;&amp;</span></span><br><span class="line"><span class="regexp">  &lt;Button /</span>&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">&#123;</span><br><span class="line">  showButton &amp;&amp;</span><br><span class="line">    &lt;Button /&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&#123;showButton &amp;&amp; (</span><br><span class="line">  &lt;Button /&gt;</span><br><span class="line">)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&#123;showButton &amp;&amp; <span class="xml"><span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span>&#125;</span><br></pre></table></figure><h3 id="空格" class="article-heading"><a href="#空格" class="headerlink" title="空格"></a>空格<a class="article-anchor" href="#空格" aria-hidden="true"></a></h3><ul><li>自闭合的标签前要加一个空格，eslint: <a href="https://eslint.org/docs/rules/no-multi-spaces" target="_blank" rel="noopener">no-multi-spaces</a>, <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-tag-spacing.md" target="_blank" rel="noopener">react/jsx-tag-spacing</a></ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// very bad</span></span><br><span class="line">&lt;Foo                 /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo</span><br><span class="line"> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo /&gt;</span><br></pre></table></figure><ul><li>不要在 JSX 的花括号里边加空格，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-curly-spacing.md" target="_blank" rel="noopener">react/jsx-curly-spacing</a></ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo bar=&#123; baz &#125; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo bar=&#123;baz&#125; /&gt;</span><br></pre></table></figure><h3 id="引号" class="article-heading"><a href="#引号" class="headerlink" title="引号"></a>引号<a class="article-anchor" href="#引号" aria-hidden="true"></a></h3><p>JSX 属性要使用单引号，与其他普通 JS 保持一致<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo bar=<span class="string">"bar"</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo bar=<span class="string">'bar'</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo style=&#123;&#123; <span class="attr">left</span>: <span class="string">"20px"</span> &#125;&#125; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo style=&#123;&#123; <span class="attr">left</span>: <span class="string">'20px'</span> &#125;&#125; /&gt;</span><br></pre></table></figure><h3 id="属性" class="article-heading"><a href="#属性" class="headerlink" title="属性"></a>属性<a class="article-anchor" href="#属性" aria-hidden="true"></a></h3><ul><li>属性名使用 CamelCase</ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  UserName=<span class="string">'hello'</span></span><br><span class="line">  phone_number=&#123;<span class="number">12345678</span>&#125;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  userName=<span class="string">'hello'</span></span><br><span class="line">  phoneNumber=&#123;<span class="number">12345678</span>&#125;</span><br><span class="line">/&gt;</span><br></pre></table></figure><ul><li>当属性值为true时可以省略， eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-boolean-value.md" target="_blank" rel="noopener">react/jsx-boolean-value</a></ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  hidden=&#123;<span class="literal">true</span>&#125;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  hidden</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo hidden /&gt;</span><br></pre></table></figure><ul><li>避免使用数组的索引作为 key 属性值, 建议使用稳定的ID，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-array-index-key.md" target="_blank" rel="noopener">react/no-array-index-key</a></ul><blockquote><p>原因：不使用稳定的 ID 会对性能产生副作用并且组件状态会出问题，是一种<a href="https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318" target="_blank" rel="noopener">反模式</a></blockquote><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&#123;todos.map(<span class="function">(<span class="params">todo, index</span>) =&gt;</span></span><br><span class="line">  &lt;Todo</span><br><span class="line">    &#123;...todo&#125;</span><br><span class="line">    key=&#123;index&#125;</span><br><span class="line">  /&gt;</span><br><span class="line">)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&#123;todos.map(<span class="function"><span class="params">todo</span> =&gt;</span> (</span><br><span class="line">  &lt;Todo</span><br><span class="line">    &#123;...todo&#125;</span><br><span class="line">    key=&#123;todo.id&#125;</span><br><span class="line">  /&gt;</span><br><span class="line">))&#125;</span><br></pre></table></figure><ul><li>为所有的非必需属性定义使用 defaultProps 明确的默认值</ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SFC</span> (<span class="params">&#123; foo, bar, children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;foo&#125;&#123;bar&#125;&#123;children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">SFC.propTypes = &#123;</span><br><span class="line">  foo: PropTypes.number.isRequired,</span><br><span class="line">  bar: PropTypes.string,</span><br><span class="line">  children: PropTypes.node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SFC</span> (<span class="params">&#123; foo, bar, children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;foo&#125;&#123;bar&#125;&#123;children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">SFC.propTypes = &#123;</span><br><span class="line">  foo: PropTypes.number.isRequired,</span><br><span class="line">  bar: PropTypes.string,</span><br><span class="line">  children: PropTypes.node</span><br><span class="line">&#125;</span><br><span class="line">SFC.defaultProps = &#123;</span><br><span class="line">  bar: <span class="string">''</span>,</span><br><span class="line">  children: <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></table></figure><h3 id="Refs" class="article-heading"><a href="#Refs" class="headerlink" title="Refs"></a>Refs<a class="article-anchor" href="#Refs" aria-hidden="true"></a></h3><p>避免使用字符串引用，请使用回调函数作为引用，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-string-refs.md" target="_blank" rel="noopener">react/no-string-refs</a><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  ref=<span class="string">'myRef'</span></span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  ref=&#123;ref =&gt; &#123; <span class="keyword">this</span>.myRef = ref &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></table></figure><h3 id="圆括号" class="article-heading"><a href="#圆括号" class="headerlink" title="圆括号"></a>圆括号<a class="article-anchor" href="#圆括号" aria-hidden="true"></a></h3><p>当 JSX 标签超过一行时使用圆括号包裹， eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/wrap-multilines.md" target="_blank" rel="noopener">react/wrap-multilines</a><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">render () &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">className</span>=<span class="string">'long body'</span> <span class="attr">foo</span>=<span class="string">'bar'</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">MyChild</span> /&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;/<span class="name">MyComponent</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">render () &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;MyComponent className=<span class="string">'long body'</span> foo=<span class="string">'bar'</span>&gt;</span><br><span class="line">      &lt;MyChild /&gt;</span><br><span class="line">    &lt;<span class="regexp">/MyComponent&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ good, when single line</span></span><br><span class="line"><span class="regexp">render () &#123;</span></span><br><span class="line"><span class="regexp">  const body = &lt;div&gt;hello&lt;/</span>div&gt;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span>&gt;</span>&#123;body&#125;<span class="tag">&lt;/<span class="name">MyComponent</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></table></figure><h3 id="标签" class="article-heading"><a href="#标签" class="headerlink" title="标签"></a>标签<a class="article-anchor" href="#标签" aria-hidden="true"></a></h3><ul><li>没有子元素的标签请自闭合，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/self-closing-comp.md" target="_blank" rel="noopener">react/self-closing-comp</a></ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo className=<span class="string">'stuff'</span>&gt;&lt;<span class="regexp">/Foo&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ good</span></span><br><span class="line"><span class="regexp">&lt;Foo className='stuff' /</span>&gt;</span><br></pre></table></figure><ul><li>如果组件包含多行属性，在新的一行闭合标签，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-closing-bracket-location.md" target="_blank" rel="noopener">react/jsx-closing-bracket-location</a></ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  bar=<span class="string">'bar'</span></span><br><span class="line">  baz=<span class="string">'baz'</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&lt;Foo</span><br><span class="line">  bar=<span class="string">'bar'</span></span><br><span class="line">  baz=<span class="string">'baz'</span></span><br><span class="line">/&gt;</span><br></pre></table></figure><h3 id="方法" class="article-heading"><a href="#方法" class="headerlink" title="方法"></a>方法<a class="article-anchor" href="#方法" aria-hidden="true"></a></h3><ul><li>使用箭头函数包裹本地变量</ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ItemList</span> (<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;props.items.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> (</span><br><span class="line">        &lt;Item</span><br><span class="line">          key=&#123;item.key&#125;</span><br><span class="line">          onClick=&#123;() =&gt; doSomethingWith(item.name, index)&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      ))&#125;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></table></figure><ul><li>类组件的内部方法不要使用下划线前缀</ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  _onClickSubmit () &#123;</span><br><span class="line">    <span class="comment">// do stuff</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// other stuff</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  onClickSubmit () &#123;</span><br><span class="line">    <span class="comment">// do stuff</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// other stuff</span></span><br><span class="line">&#125;</span><br></pre></table></figure><ul><li>确保在 render 方法中存在返回值，eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/pull/502" target="_blank" rel="noopener">require-render-return</a></ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">render () &#123;</span><br><span class="line">  (<span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">render () &#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>)</span><br><span class="line">&#125;</span><br></pre></table></figure><h3 id="Hooks-书写规范" class="article-heading"><a href="#Hooks-书写规范" class="headerlink" title="Hooks 书写规范"></a>Hooks 书写规范<a class="article-anchor" href="#Hooks-书写规范" aria-hidden="true"></a></h3><ul><li><p>Hooks 只能应用于函数式组件中<li><p>只在 React 函数最顶层使用 Hooks</ul><blockquote><p>不要在循环，条件或嵌套函数中调用 Hook， 确保总是在你的 React 函数的最顶层调用他们</blockquote><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  useEffect(<span class="function"><span class="keyword">function</span> <span class="title">persistForm</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    localStorage.setItem(<span class="string">'formData'</span>, accountName)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> x = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> [timer, setTimer] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// main logic</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  useEffect(<span class="function"><span class="keyword">function</span> <span class="title">persistForm</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    localStorage.setItem(<span class="string">'formData'</span>, accountName)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> [timer, setTimer] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> x = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="comment">// main logic</span></span><br><span class="line">&#125;</span><br></pre></table></figure></div><footer class="article-footer"><time class="article-footer-updated" datetime="2020-09-07T08:38:47.709Z" itemprop="dateModified">上次更新：2020-09-07</time> <a href="/docs/js/code.html" class="article-footer-prev" title="代码规范"><i class="fa fa-chevron-left"></i><span>上一页</span></a></footer></div></div><aside class="article-toc" id="article-toc" role="navigation"><div id="article-toc-inner" class="article-toc-inner"><strong class="sidebar-title">目录</strong><ul class="nav toc-nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#React-amp-JSX-书写规范"><span class="nav-text">React&JSX 书写规范</span></a><ul class="nav nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本规则"><span class="nav-text">基本规则</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#命名规范"><span class="nav-text">命名规范</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#Class-Component-VS-Functional-Component"><span class="nav-text">Class Component VS Functional Component</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#对齐"><span class="nav-text">对齐</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#空格"><span class="nav-text">空格</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#引号"><span class="nav-text">引号</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#属性"><span class="nav-text">属性</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#Refs"><span class="nav-text">Refs</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#圆括号"><span class="nav-text">圆括号</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#标签"><span class="nav-text">标签</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#方法"><span class="nav-text">方法</span></a><li class="nav-item nav-level-3"><a class="nav-link" href="#Hooks-书写规范"><span class="nav-text">Hooks 书写规范</span></a></ul></ul><a href="#" id="article-toc-top" class="article-toc-top">回到顶部</a></div></aside></div></article><aside id="sidebar" role="navigation" class="sidebar"><div class="inner"><strong class="sidebar-title">开始使用</strong><a href="/docs/index.html" class="sidebar-link">概述</a><strong class="sidebar-title">HTML 规范</strong><a href="/docs/html/code.html" class="sidebar-link">代码规范</a><a href="/docs/html/note.html" class="sidebar-link">注释规范</a><a href="/docs/html/template.html" class="sidebar-link">文件模版</a><a href="/docs/html/webapp.html" class="sidebar-link">WebApp Meta</a><strong class="sidebar-title">图片规范</strong><a href="/docs/image/format.html" class="sidebar-link">图片格式</a><a href="/docs/image/size.html" class="sidebar-link">图片大小</a><a href="/docs/image/quality.html" class="sidebar-link">图片质量</a><a href="/docs/image/import.html" class="sidebar-link">图片引入</a><strong class="sidebar-title">CSS 规范</strong><a href="/docs/css/code.html" class="sidebar-link">代码规范</a><a href="/docs/css/note.html" class="sidebar-link">注释规范</a><a href="/docs/css/sass.html" class="sidebar-link">SASS 规范</a><a href="/docs/css/reset.html" class="sidebar-link">重置样式</a><a href="/docs/css/query.html" class="sidebar-link">媒体查询</a><a href="/docs/css/webkit.html" class="sidebar-link">移动端常用私有属性</a><strong class="sidebar-title">命名规范</strong><a href="/docs/name/dir.html" class="sidebar-link">目录命名</a><a href="/docs/name/image.html" class="sidebar-link">图片命名</a><a href="/docs/name/htmlcss.html" class="sidebar-link">HTML/CSS 命名</a><a href="/docs/name/classname.html" class="sidebar-link">ClassName 命名</a><strong class="sidebar-title">JS 规范</strong><a href="/docs/js/language.html" class="sidebar-link">语言规范</a><a href="/docs/js/code.html" class="sidebar-link">代码规范</a><a href="/docs/js/react.html" class="sidebar-link current">React&JSX 书写规范</a></div></aside></div></div></div><footer id="footer" class="wrapper"><div class="inner"><div id="footer-copyright">&copy; 2020 <a href="http://zespia.tw/" target="_blank">凹凸实验室</a><br>Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.</div><div id="footer-links"><a href="https://twitter.com/o2circle" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a> <a href="https://github.com/o2team/guide" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a></div></div></footer></div><div id="mobile-nav-dimmer" class="mobile-nav-dimmer"></div><nav id="mobile-nav" class="mobile-nav"><div id="mobile-nav-inner" class="mobile-nav-inner"><ul id="mobile-nav-list" class="mobile-nav-list"><li class="mobile-nav-item"><a href="/docs/" class="mobile-nav-link">文档</a><li class="mobile-nav-item"><a href="/news/" class="mobile-nav-link">新闻</a><li class="mobile-nav-item"><a href="https://github.com/o2team/guide" class="mobile-nav-link" rel="external" target="_blank">GitHub</a></ul><strong class="mobile-nav-title">开始使用</strong><a href="/docs/index.html" class="mobile-nav-link">概述</a><strong class="mobile-nav-title">HTML 规范</strong><a href="/docs/html/code.html" class="mobile-nav-link">代码规范</a><a href="/docs/html/note.html" class="mobile-nav-link">注释规范</a><a href="/docs/html/template.html" class="mobile-nav-link">文件模版</a><a href="/docs/html/webapp.html" class="mobile-nav-link">WebApp Meta</a><strong class="mobile-nav-title">图片规范</strong><a href="/docs/image/format.html" class="mobile-nav-link">图片格式</a><a href="/docs/image/size.html" class="mobile-nav-link">图片大小</a><a href="/docs/image/quality.html" class="mobile-nav-link">图片质量</a><a href="/docs/image/import.html" class="mobile-nav-link">图片引入</a><strong class="mobile-nav-title">CSS 规范</strong><a href="/docs/css/code.html" class="mobile-nav-link">代码规范</a><a href="/docs/css/note.html" class="mobile-nav-link">注释规范</a><a href="/docs/css/sass.html" class="mobile-nav-link">SASS 规范</a><a href="/docs/css/reset.html" class="mobile-nav-link">重置样式</a><a href="/docs/css/query.html" class="mobile-nav-link">媒体查询</a><a href="/docs/css/webkit.html" class="mobile-nav-link">移动端常用私有属性</a><strong class="mobile-nav-title">命名规范</strong><a href="/docs/name/dir.html" class="mobile-nav-link">目录命名</a><a href="/docs/name/image.html" class="mobile-nav-link">图片命名</a><a href="/docs/name/htmlcss.html" class="mobile-nav-link">HTML/CSS 命名</a><a href="/docs/name/classname.html" class="mobile-nav-link">ClassName 命名</a><strong class="mobile-nav-title">JS 规范</strong><a href="/docs/js/language.html" class="mobile-nav-link">语言规范</a><a href="/docs/js/code.html" class="mobile-nav-link">代码规范</a><a href="/docs/js/react.html" class="mobile-nav-link current">React&JSX 书写规范</a></div><div id="mobile-lang-select-wrap" class="mobile-lang-select-wrap"><span id="mobile-lang-select-label" class="mobile-lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></span><select id="mobile-lang-select" data-canonical="docs/js/react.html" class="mobile-lang-select"><option value="zh-cn" selected>简体中文<option value="en">English</select></div></nav><script src="/assets/js/dist-d41d8cd98f.main.js"></script><script>!function(t,e,s,n,c,i,a){t.SwiftypeObject=c,t[c]=t[c]||function(){(t[c].q=t[c].q||[]).push(arguments)},i=e.createElement(s),a=e.getElementsByTagName(s)[0],i.async=1,i.src=n,a.parentNode.insertBefore(i,a)}(window,document,"script","//s.swiftypecdn.com/install/v1/st.js","_st"),_st("install","nxhXzi1rDss_9_P_6zBa")</script></div>